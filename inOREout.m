% Matthew T. Jacobs, 4/19/2019
% Script written for Jennifer Day's Other Race Effect Study (ORE)
% faceLocals = [#frame, diameter, diameter, xCoord, yCoord]
% compressed = [time (sec), xCoord, yCoord, Validity]
%gets the raw gazepoint data and compresses it to 748 lines (number of
%frames

%buffer:
%you can raise or lower the distance needed to count as looking at the face

function data = inOREout(fileName, buffer, aveWindow)
%No need to touch anything below here:
%--------------------------------------------------------------------------

%calling face locals
% faceLocals was recorded by using screenCords.m
if 1
    faceLocals = [1	0	0	0	0
        2	0	0	0	0
        3	0	0	0	0
        4	180	180	325	530
        5	180	180	333	526
        6	180	180	322	515
        7	180	180	328	484
        8	155	155	538	484
        9	155	155	574	486
        10	155	155	577	490
        11	175	175	584	481
        12	175	175	556	480
        13	175	175	366	481
        14	195	195	279	494
        15	0	0	0	0
        16	0	0	0	0
        17	0	0	0	0
        18	0	0	0	0
        19	150	150	972	488
        19	150	150	1088	484
        20	150	150	977	436
        20	150	150	1124	444
        21	155	155	939	407
        21	155	155	1134	409
        22	155	155	849	376
        22	155	155	1124	406
        23	165	165	1143	377
        23	215	215	687	332
        24	175	175	1151	367
        24	230	230	590	329
        25	230	230	1246	351
        25	430	430	154	268
        26	255	255	1255	355
        26	390	390	148	260
        27	270	270	1441	403
        27	390	390	441	354
        28	270	270	1465	403
        28	385	385	380	310
        29	260	260	1460	384
        29	410	410	317	308
        30	260	260	1396	408
        30	475	475	192	294
        31	230	230	1282	398
        31	415	415	141	277
        32	230	230	1271	417
        32	435	435	94	284
        33	255	255	1273	400
        33	435	435	114	293
        34	255	255	1273	400
        34	415	415	136	277
        35	255	255	1264	412
        35	415	415	107	299
        36	250	250	1270	392
        36	420	420	101	300
        37	250	250	1320	382
        37	365	365	66	295
        38	265	265	1416	367
        38	420	420	106	301
        39	305	305	1517	378
        39	425	425	136	293
        40	330	330	1586	375
        40	460	460	199	321
        41	300	300	1603	371
        41	375	375	204	298
        42	300	300	1573	382
        42	410	410	203	336
        43	310	310	1598	384
        43	410	410	182	321
        44	310	310	1595	391
        44	400	400	58	313
        45	280	280	1600	369
        45	385	385	14	300
        46	280	280	1560	393
        46	405	405	51	297
        47	305	305	1558	370
        47	405	405	49	305
        48	290	290	1566	385
        48	395	395	22	337
        49	275	275	1562	401
        49	410	410	47	331
        50	180	180	1329	423
        50	255	255	523	391
        51	160	160	1276	425
        51	230	230	593	404
        52	160	160	1284	424
        52	195	195	599	419
        53	165	165	1278	423
        53	205	205	586	404
        54	155	155	1283	429
        54	195	195	574	412
        55	150	150	1282	434
        55	220	220	545	396
        56	150	150	1285	429
        56	230	230	539	389
        57	150	150	1288	432
        57	230	230	545	402
        58	155	155	1345	431
        58	205	205	610	407
        59	155	155	1377	427
        59	190	190	642	415
        60	160	160	1394	427
        60	180	180	665	412
        61	160	160	1416	421
        61	205	205	684	409
        62	165	165	1421	416
        62	185	185	673	416
        63	175	175	841	403
        63	200	200	1687	406
        64	180	180	896	430
        64	210	210	1860	416
        65	180	180	880	417
        65	225	225	1838	401
        66	185	185	931	421
        66	210	210	1899	411
        67	190	190	983	423
        68	195	195	1087	433
        69	200	200	1203	429
        70	205	205	1302	430
        71	230	230	1410	409
        72	260	260	1841	361
        73	150	150	1690	417
        74	150	150	1636	424
        75	150	150	1229	439
        76	150	150	1101	441
        77	150	150	1112	453
        78	150	150	1106	456
        79	150	150	1102	449
        80	150	150	1036	442
        81	150	150	1055	440
        82	150	150	966	418
        83	150	150	952	418
        84	150	150	968	412
        85	160	160	980	421
        86	175	175	1023	406
        87	180	180	1108	427
        88	190	190	1193	415
        89	195	195	1201	418
        90	195	195	1195	410
        91	200	200	1206	416
        92	200	200	1191	405
        93	200	200	1206	406
        94	190	190	1201	411
        95	190	190	1204	406
        96	190	190	1204	407
        97	190	190	1217	411
        98	190	190	1211	414
        99	190	190	1213	413
        100	190	190	1224	405
        101	200	200	1225	413
        102	200	200	1227	411
        103	210	210	1330	428
        104	150	150	994	427
        104	405	405	1736	360
        105	150	150	999	432
        106	150	150	1023	430
        107	150	150	1046	422
        108	180	180	1119	440
        109	195	195	1068	405
        110	195	195	994	419
        111	200	200	947	411
        112	200	200	955	413
        113	200	200	944	415
        114	195	195	975	407
        115	195	195	1030	404
        116	195	195	1030	407
        117	210	210	1152	424
        118	250	250	1318	422
        119	0	0	0	0
        120	0	0	0	0
        121	0	0	0	0
        122	0	0	0	0
        123	0	0	0	0
        124	0	0	0	0
        125	0	0	0	0
        126	0	0	0	0
        127	0	0	0	0
        128	0	0	0	0
        129	0	0	0	0
        130	0	0	0	0
        131	0	0	0	0
        132	0	0	0	0
        133	0	0	0	0
        134	0	0	0	0
        135	0	0	0	0
        136	0	0	0	0
        137	0	0	0	0
        138	0	0	0	0
        139	0	0	0	0
        140	0	0	0	0
        141	0	0	0	0
        142	0	0	0	0
        143	0	0	0	0
        144	0	0	0	0
        145	0	0	0	0
        146	150	150	704	467
        147	150	150	693	468
        148	150	150	666	443
        149	150	150	665	451
        150	150	150	695	449
        151	150	150	740	428
        152	150	150	733	440
        153	150	150	771	430
        154	150	150	904	388
        155	320	320	780	426
        156	320	320	780	388
        157	320	320	803	386
        158	320	320	817	381
        159	320	320	817	385
        160	320	320	810	379
        161	285	285	807	380
        162	285	285	815	375
        163	285	285	806	374
        164	285	285	855	405
        165	310	310	814	385
        166	425	425	86	345
        167	0	0	0	0
        168	0	0	0	0
        169	0	0	0	0
        170	0	0	0	0
        172	0	0	0	0
        173	0	0	0	0
        174	0	0	0	0
        175	0	0	0	0
        176	0	0	0	0
        177	0	0	0	0
        178	150	150	1168	403
        179	150	150	1132	401
        180	150	150	1090	405
        181	150	150	1068	411
        182	150	150	1025	404
        183	150	150	1189	402
        184	150	150	1303	403
        185	150	150	1087	420
        186	150	150	1056	415
        187	150	150	1013	423
        188	150	150	984	423
        189	150	150	983	416
        190	150	150	437	449
        190	150	150	1036	426
        191	150	150	640	431
        191	160	160	1181	389
        192	150	150	805	431
        192	175	175	1353	383
        193	150	150	839	440
        193	190	190	1425	402
        194	150	150	842	452
        194	175	175	1465	407
        195	150	150	804	462
        195	150	150	1322	471
        195	150	150	1453	420
        196	150	150	696	434
        196	150	150	1260	427
        196	150	150	1350	388
        197	150	150	587	401
        197	150	150	1210	386
        197	160	160	1297	357
        198	150	150	548	394
        198	150	150	1025	411
        198	150	150	1251	376
        199	150	150	415	394
        199	150	150	994	409
        199	160	160	1169	362
        200	150	150	978	409
        200	150	150	1109	402
        200	160	160	1180	355
        201	150	150	981	398
        201	150	150	1288	371
        201	165	165	1184	382
        202	150	150	974	403
        202	150	150	1155	363
        202	150	150	1358	378
        203	150	150	991	403
        203	150	150	1169	368
        203	150	150	1428	383
        204	150	150	427	420
        204	150	150	1198	427
        204	160	160	1443	376
        205	150	150	1264	415
        205	160	160	424	418
        205	165	165	1546	381
        206	150	150	1184	430
        206	175	175	1472	366
        206	190	190	125	428
        207	150	150	1439	430
        207	175	175	423	402
        208	165	165	806	379
        209	165	165	860	396
        210	165	165	864	405
        211	150	150	1720	396
        211	180	180	809	399
        212	150	150	1865	429
        212	175	175	852	422
        213	175	175	948	458
        214	175	175	996	471
        215	175	175	996	471
        216	175	175	901	431
        217	190	190	579	379
        218	150	150	1160	391
        219	150	150	1064	393
        219	170	170	1630	359
        220	170	170	1119	420
        220	170	170	1684	369
        221	150	150	1025	439
        221	150	150	1238	402
        221	185	185	1603	374
        222	150	150	902	439
        222	150	150	1215	383
        222	165	165	1411	372
        223	150	150	876	427
        223	160	160	1328	379
        224	150	150	875	428
        224	150	150	1083	393
        224	180	180	1394	366
        225	150	150	884	429
        225	150	150	1089	401
        225	165	165	1355	379
        225	195	195	1614	371
        226	150	150	880	429
        226	150	150	1089	396
        226	170	170	1369	382
        226	205	205	1791	343
        227	150	150	856	423
        227	150	150	1072	411
        227	180	180	1421	362
        228	150	150	856	431
        228	150	150	1071	395
        228	205	205	1540	374
        229	150	150	804	447
        229	150	150	1041	417
        229	225	225	1617	346
        230	150	150	789	479
        230	150	150	1029	436
        230	290	290	1829	340
        231	150	150	903	463
        231	150	150	1154	420
        232	150	150	969	408
        232	150	150	1280	359
        233	150	150	991	418
        233	150	150	1302	356
        234	150	150	987	417
        234	150	150	1320	362
        235	150	150	992	412
        235	150	150	1357	363
        236	150	150	1000	417
        236	150	150	1370	362
        237	150	150	996	418
        237	150	150	1418	361
        238	150	150	1000	414
        238	150	150	1444	350
        239	150	150	1013	400
        240	150	150	1012	397
        241	170	170	1022	401
        242	170	170	1027	412
        243	170	170	1026	404
        243	170	170	1712	311
        244	150	150	1259	347
        244	170	170	742	448
        245	150	150	640	478
        245	150	150	1149	363
        246	150	150	640	476
        246	150	150	1135	373
        247	150	150	693	488
        247	150	150	1181	391
        248	150	150	982	393
        248	165	165	425	514
        249	150	150	791	394
        250	150	150	428	388
        251	160	160	165	394
        252	160	160	180	406
        254	150	150	1405	380
        255	150	150	1156	383
        256	150	150	1127	382
        257	150	150	1072	376
        257	150	150	1194	384
        258	150	150	1053	373
        258	150	150	1207	387
        259	150	150	1053	365
        259	150	150	1214	378
        260	150	150	1032	374
        260	150	150	1244	379
        261	150	150	970	372
        261	150	150	1259	388
        262	150	150	1012	358
        262	150	150	1372	385
        263	150	150	1069	355
        263	150	150	1588	387
        264	150	150	999	352
        264	150	150	1631	384
        265	150	150	981	374
        265	150	150	1771	393
        266	150	150	923	346
        266	150	150	1892	400
        267	165	165	924	366
        268	170	170	1146	354
        269	150	150	507	409
        269	175	175	1085	352
        270	150	150	441	392
        270	190	190	1009	368
        271	150	150	539	392
        271	200	200	1104	360
        272	150	150	834	398
        272	205	205	1387	369
        273	150	150	918	404
        273	215	215	1646	367
        274	150	150	993	403
        274	215	215	1918	366
        275	150	150	1001	418
        276	150	150	970	418
        277	150	150	949	404
        278	150	150	939	409
        279	165	165	929	411
        280	175	175	622	342
        280	175	175	1565	317
        281	200	200	490	367
        282	215	215	164	339
        283	0	0	0	0
        284	0	0	0	0
        285	0	0	0	0
        286	0	0	0	0
        287	0	0	0	0
        288	0	0	0	0
        289	0	0	0	0
        290	0	0	0	0
        291	0	0	0	0
        292	0	0	0	0
        293	0	0	0	0
        294	0	0	0	0
        295	0	0	0	0
        296	0	0	0	0
        297	0	0	0	0
        298	0	0	0	0
        299	150	150	901	426
        300	150	150	817	418
        301	150	150	766	425
        302	150	150	611	386
        303	0	0	0	0
        304	0	0	0	0
        305	0	0	0	0
        306	0	0	0	0
        307	0	0	0	0
        308	0	0	0	0
        309	0	0	0	0
        310	0	0	0	0
        311	0	0	0	0
        312	0	0	0	0
        313	0	0	0	0
        314	0	0	0	0
        315	0	0	0	0
        316	0	0	0	0
        317	0	0	0	0
        318	0	0	0	0
        319	150	150	1143	544
        320	150	150	1141	550
        321	150	150	1144	542
        322	150	150	1140	543
        323	150	150	1144	552
        324	150	150	1149	542
        325	150	150	1152	490
        326	150	150	1365	478
        327	150	150	1397	472
        328	150	150	1225	454
        329	150	150	1189	438
        330	150	150	1182	422
        331	150	150	1138	413
        332	150	150	1034	417
        333	150	150	1007	409
        334	150	150	1011	408
        335	150	150	1006	396
        336	150	150	879	365
        337	150	150	869	372
        338	165	165	878	372
        339	180	180	969	375
        340	190	190	921	385
        341	210	210	905	394
        342	205	205	1016	475
        343	205	205	1067	467
        344	210	210	1092	472
        345	215	215	1082	491
        346	220	220	1064	511
        347	225	225	1096	510
        348	300	300	1523	535
        349	300	300	1523	535
        350	300	300	1523	535
        351	250	250	1518	510
        352	250	250	1518	510
        353	250	250	1507	509
        354	250	250	1344	440
        355	250	250	1151	398
        356	250	250	1029	389
        357	250	250	990	410
        358	250	250	990	410
        359	250	250	989	394
        360	250	250	1007	399
        361	230	230	986	397
        362	230	230	986	397
        363	230	230	986	397
        364	230	230	986	397
        365	230	230	986	397
        366	230	230	986	397
        367	230	230	986	397
        368	230	230	986	397
        369	230	230	1029	402
        370	230	230	1135	427
        371	210	210	1090	417
        372	0	0	0	0
        373	0	0	0	0
        374	0	0	0	0
        375	0	0	0	0
        376	0	0	0	0
        377	0	0	0	0
        378	0	0	0	0
        379	0	0	0	0
        380	0	0	0	0
        381	0	0	0	0
        382	0	0	0	0
        383	0	0	0	0
        384	0	0	0	0
        385	0	0	0	0
        386	0	0	0	0
        387	0	0	0	0
        388	0	0	0	0
        389	0	0	0	0
        390	0	0	0	0
        391	0	0	0	0
        392	0	0	0	0
        393	0	0	0	0
        394	0	0	0	0
        395	0	0	0	0
        396	0	0	0	0
        397	0	0	0	0
        398	0	0	0	0
        399	0	0	0	0
        400	0	0	0	0
        401	150	150	1226	379
        401	150	150	1366	380
        402	150	150	900	369
        402	150	150	1004	369
        403	150	150	893	368
        403	150	150	1008	367
        404	150	150	747	375
        404	150	150	875	365
        405	150	150	270	386
        405	150	150	488	383
        406	150	150	211	390
        406	150	150	457	394
        407	150	150	154	387
        407	150	150	430	381
        408	150	150	85	376
        408	150	150	403	378
        409	150	150	357	379
        410	150	150	732	373
        410	150	150	736	377
        411	150	150	736	377
        412	150	150	731	380
        413	150	150	834	382
        414	165	165	811	382
        415	170	170	829	354
        416	150	150	566	375
        416	150	150	799	336
        416	170	170	1121	348
        417	150	150	437	362
        417	165	165	698	357
        417	170	170	1128	333
        418	150	150	383	349
        418	170	170	1167	338
        418	210	210	586	305
        418	315	315	1346	268
        419	150	150	379	376
        419	155	155	1140	330
        419	195	195	581	323
        419	295	295	1318	298
        420	150	150	383	385
        420	150	150	1144	338
        420	190	190	572	320
        420	295	295	1318	298
        421	150	150	394	353
        421	150	150	1142	339
        421	185	185	558	317
        421	320	320	1303	284
        422	150	150	361	397
        422	150	150	1118	385
        422	185	185	545	362
        422	320	320	1303	284
        423	150	150	361	397
        423	150	150	1120	379
        423	170	170	538	359
        423	295	295	1288	325
        424	150	150	367	419
        424	150	150	1114	375
        424	190	190	524	370
        424	295	295	1288	325
        425	150	150	367	419
        425	150	150	1121	386
        425	180	180	528	368
        425	270	270	1295	329
        426	150	150	354	411
        426	150	150	1130	386
        426	200	200	519	364
        426	270	270	1287	332
        427	150	150	361	407
        427	150	150	1126	377
        427	205	205	529	358
        427	270	270	1287	332
        428	150	150	368	401
        428	150	150	1121	385
        428	205	205	509	363
        428	305	305	1308	345
        429	150	150	349	415
        429	150	150	1117	398
        429	185	185	530	366
        429	305	305	1308	345
        430	150	150	352	412
        430	150	150	1121	404
        430	190	190	528	363
        430	285	285	1293	342
        431	150	150	359	418
        431	150	150	1115	394
        431	205	205	532	374
        431	275	275	1292	335
        432	150	150	358	413
        432	150	150	1132	400
        432	185	185	567	356
        432	270	270	1347	342
        433	150	150	278	416
        433	150	150	1150	401
        433	185	185	601	365
        433	290	290	1495	359
        434	150	150	141	419
        434	150	150	1142	402
        434	220	220	644	378
        434	275	275	1594	364
        435	150	150	992	427
        435	200	200	517	388
        435	225	225	1440	402
        436	150	150	1032	413
        436	210	210	652	357
        436	245	245	1564	383
        437	150	150	981	408
        437	210	210	1502	375
        437	250	250	680	346
        438	150	150	999	407
        438	220	220	1552	386
        438	235	235	849	356
        439	195	195	1454	417
        439	240	240	943	373
        440	150	150	868	419
        440	195	195	1371	396
        440	250	250	1019	368
        441	150	150	813	457
        441	150	150	1282	431
        441	220	220	1092	408
        442	155	155	443	469
        442	220	220	920	429
        443	160	160	568	463
        443	205	205	1093	457
        444	150	150	679	469
        444	150	150	1176	449
        444	230	230	1359	423
        445	150	150	538	452
        445	150	150	1051	439
        445	230	230	1237	412
        446	150	150	940	439
        446	170	170	326	438
        446	195	195	1109	416
        447	150	150	944	429
        447	175	175	330	439
        447	185	185	1119	410
        448	150	150	940	426
        448	175	175	320	436
        448	195	195	1137	404
        449	150	150	935	430
        449	190	190	1130	403
        449	195	195	309	432
        450	150	150	936	433
        450	225	225	220	438
        450	240	240	1165	391
        451	150	150	945	410
        451	220	220	177	442
        451	235	235	1187	365
        452	150	150	925	422
        452	225	225	105	440
        452	280	280	1245	379
        453	150	150	934	412
        453	225	225	105	440
        453	285	285	1254	359
        454	150	150	945	425
        454	215	215	102	423
        454	285	285	1259	375
        455	150	150	943	414
        455	215	215	92	425
        455	275	275	1271	365
        456	150	150	988	409
        456	220	220	228	418
        456	275	275	1326	352
        457	150	150	1065	413
        457	195	195	353	416
        457	330	330	1394	347
        458	150	150	1101	405
        458	170	170	452	419
        458	345	345	1421	347
        459	150	150	1131	415
        459	180	180	485	428
        459	345	345	1471	350
        460	150	150	1144	408
        460	180	180	517	421
        460	330	330	1506	337
        461	150	150	1161	407
        461	175	175	541	427
        461	325	325	1533	352
        462	150	150	1157	412
        462	165	165	535	430
        462	325	325	1449	359
        463	150	150	1165	403
        463	165	165	535	430
        463	290	290	1471	359
        464	150	150	378	421
        464	150	150	1154	410
        464	190	190	540	422
        464	280	280	1495	367
        465	150	150	1154	409
        465	185	185	518	419
        465	315	315	1509	364
        466	150	150	1160	415
        466	200	200	539	425
        466	310	310	1503	352
        467	150	150	644	424
        467	150	150	1158	410
        467	165	165	522	422
        467	315	315	1519	363
        468	150	150	724	427
        468	150	150	1163	405
        468	175	175	527	427
        468	315	315	1519	363
        469	150	150	788	448
        469	150	150	1154	422
        469	175	175	527	418
        469	325	325	1516	375
        470	150	150	849	412
        470	150	150	1160	407
        470	160	160	526	418
        470	325	325	1527	363
        471	150	150	1161	406
        471	155	155	952	440
        471	185	185	533	419
        471	320	320	1546	364
        472	150	150	1042	421
        472	150	150	1165	415
        472	170	170	532	434
        472	335	335	1510	366
        473	150	150	1050	429
        473	150	150	1174	423
        473	165	165	504	418
        473	300	300	1497	372
        474	150	150	1170	419
        474	165	165	1038	422
        474	170	170	506	417
        474	300	300	1487	365
        475	150	150	1030	418
        475	150	150	1156	418
        475	160	160	508	427
        475	365	365	1525	345
        476	150	150	1166	411
        476	160	160	1035	431
        476	165	165	513	436
        476	285	285	1542	344
        477	150	150	1033	420
        477	150	150	1164	413
        477	155	155	509	422
        477	285	285	1543	347
        478	150	150	1193	413
        478	160	160	571	440
        478	160	160	1058	415
        478	315	315	1596	340
        479	150	150	635	421
        479	150	150	1111	417
        479	150	150	1251	413
        479	335	335	1720	336
        480	150	150	648	421
        480	150	150	1112	423
        480	150	150	1239	419
        480	390	390	1692	337
        481	150	150	1259	412
        481	160	160	1130	421
        481	165	165	658	427
        481	370	370	1741	325
        482	150	150	732	413
        482	150	150	1348	402
        482	165	165	1196	418
        482	360	360	1919	301
        483	150	150	728	412
        483	150	150	1341	405
        483	155	155	1187	412
        483	340	340	1901	323
        484	150	150	749	425
        484	150	150	1341	405
        484	165	165	1205	426
        484	350	350	1834	362
        485	150	150	848	432
        485	150	150	1919	379
        485	160	160	1479	410
        485	170	170	1326	437
        486	150	150	1029	435
        486	170	170	1871	409
        486	205	205	1611	429
        487	150	150	1102	437
        487	215	215	1740	433
        488	150	150	1244	453
        489	150	150	1244	453
        490	150	150	1290	455
        491	0	0	0	0
        492	0	0	0	0
        493	150	150	557	505
        494	150	150	559	513
        495	150	150	855	485
        495	185	185	248	436
        496	150	150	754	377
        496	150	150	1100	431
        497	150	150	38	392
        497	150	150	912	362
        497	150	150	1139	391
        498	150	150	110	386
        498	150	150	1051	347
        498	150	150	1164	379
        499	150	150	108	383
        499	150	150	1159	354
        500	150	150	66	386
        500	150	150	1187	380
        500	150	150	1318	348
        501	150	150	28	392
        501	150	150	1194	393
        501	210	210	1540	345
        502	150	150	1214	400
        502	235	235	1871	370
        503	150	150	1228	399
        504	150	150	1186	407
        505	150	150	1187	399
        506	150	150	1181	410
        507	150	150	1138	404
        508	150	150	1120	396
        509	150	150	1115	388
        510	160	160	1042	384
        511	150	150	1020	401
        512	150	150	1023	387
        513	150	150	991	379
        514	150	150	991	379
        515	150	150	1016	382
        516	150	150	1025	365
        517	150	150	1025	365
        518	150	150	1025	365
        519	150	150	1025	365
        520	150	150	1061	373
        521	155	155	1090	348
        522	155	155	1166	333
        523	195	195	1661	356
        524	150	150	489	434
        525	150	150	618	540
        526	0	0	0	0
        527	150	150	595	527
        528	150	150	458	515
        529	150	150	327	503
        530	150	150	162	499
        531	0	0	0	0
        532	0	0	0	0
        533	0	0	0	0
        534	0	0	0	0
        535	0	0	0	0
        536	0	0	0	0
        537	0	0	0	0
        538	0	0	0	0
        539	0	0	0	0
        540	0	0	0	0
        545	150	150	1048	417
        546	150	150	1015	378
        547	150	150	849	346
        547	150	150	1006	373
        548	150	150	819	337
        548	150	150	1000	386
        549	150	150	847	371
        549	150	150	1059	409
        550	150	150	881	383
        550	150	150	1124	406
        551	150	150	878	376
        551	150	150	998	393
        552	150	150	916	371
        552	150	150	1068	401
        552	150	150	1163	415
        553	150	150	930	373
        553	150	150	1138	439
        554	150	150	949	371
        554	150	150	1165	438
        555	150	150	973	381
        555	150	150	1209	465
        556	165	165	875	402
        556	165	165	1146	487
        557	150	150	1102	478
        557	185	185	749	380
        558	150	150	921	429
        558	150	150	1086	403
        558	215	215	0	279
        559	150	150	920	435
        559	150	150	1117	399
        560	150	150	915	433
        560	150	150	1142	413
        561	150	150	68	424
        561	150	150	936	434
        561	150	150	1140	428
        562	150	150	169	432
        562	150	150	993	451
        562	150	150	1171	441
        563	150	150	324	460
        563	150	150	1090	477
        563	150	150	1251	469
        563	150	150	1528	454
        564	150	150	271	470
        564	150	150	1115	489
        564	150	150	1216	474
        564	150	150	1499	479
        565	150	150	254	483
        565	150	150	1139	490
        565	150	150	1502	471
        566	150	150	221	476
        566	150	150	1061	476
        566	150	150	1139	494
        566	150	150	1513	461
        567	150	150	163	459
        567	150	150	978	466
        567	150	150	1143	486
        567	150	150	1549	451
        568	150	150	1068	436
        568	150	150	1442	384
        568	160	160	714	392
        569	150	150	964	400
        569	175	175	346	337
        570	150	150	895	342
        571	150	150	825	342
        572	150	150	760	353
        573	150	150	624	409
        574	150	150	514	446
        575	150	150	485	446
        576	150	150	659	427
        577	195	195	817	504
        578	300	300	953	545
        579	300	300	1000	527
        580	300	300	984	546
        581	285	285	970	510
        582	285	285	970	510
        583	190	190	965	394
        584	190	190	947	422
        585	190	190	947	422
        586	190	190	959	413
        587	190	190	974	409
        588	190	190	974	409
        589	190	190	974	409
        590	190	190	974	409
        591	185	185	977	407
        592	185	185	979	406
        593	185	185	979	406
        594	185	185	979	406
        595	185	185	976	409
        596	185	185	972	414
        597	185	185	972	414
        598	185	185	972	414
        599	185	185	972	414
        600	185	185	972	414
        601	185	185	972	409
        602	185	185	975	410
        603	185	185	975	410
        604	185	185	975	410
        605	185	185	979	409
        606	185	185	979	409
        607	185	185	979	409
        608	185	185	979	409
        609	185	185	979	409
        610	185	185	979	409
        611	185	185	974	405
        612	185	185	974	405
        613	185	185	974	405
        614	185	185	974	405
        615	185	185	974	405
        616	185	185	974	405
        617	185	185	974	405
        618	185	185	974	405
        619	185	185	974	405
        620	185	185	974	405
        621	175	175	979	406
        622	175	175	979	406
        623	175	175	979	406
        624	175	175	979	406
        625	175	175	979	406
        626	175	175	979	406
        627	175	175	979	406
        628	175	175	979	406
        629	175	175	979	406
        630	175	175	979	406
        631	185	185	975	409
        632	185	185	975	409
        633	185	185	975	409
        634	185	185	975	409
        635	185	185	975	409
        636	185	185	975	409
        637	185	185	975	409
        638	185	185	975	409
        639	185	185	975	409
        640	185	185	975	409
        641	190	190	973	410
        642	190	190	973	410
        643	190	190	973	410
        644	190	190	973	410
        645	190	190	973	410
        646	190	190	973	410
        647	190	190	973	410
        648	190	190	973	410
        649	190	190	973	410
        650	190	190	973	410
        651	180	180	982	402
        652	180	180	982	402
        653	180	180	982	402
        654	180	180	982	402
        655	200	200	570	358
        656	290	290	244	447
        657	290	290	219	466
        658	240	240	1	604
        659	0	0	0	0
        660	0	0	0	0
        661	0	0	0	0
        662	0	0	0	0
        663	0	0	0	0
        664	0	0	0	0
        665	0	0	0	0
        666	0	0	0	0
        667	150	150	668	377
        668	150	150	670	403
        669	150	150	855	398
        670	150	150	1049	387
        671	200	200	1364	366
        672	0	0	0	0
        673	0	0	0	0
        674	0	0	0	0
        675	0	0	0	0
        676	0	0	0	0
        677	0	0	0	0
        678	0	0	0	0
        679	0	0	0	0
        680	0	0	0	0
        681	0	0	0	0
        682	0	0	0	0
        683	0	0	0	0
        684	0	0	0	0
        685	0	0	0	0
        686	0	0	0	0
        687	0	0	0	0
        688	0	0	0	0
        689	0	0	0	0
        690	0	0	0	0
        691	0	0	0	0
        692	0	0	0	0
        693	0	0	0	0
        694	0	0	0	0
        695	0	0	0	0
        696	0	0	0	0
        697	0	0	0	0
        698	0	0	0	0
        699	0	0	0	0
        700	0	0	0	0
        701	0	0	0	0
        702	0	0	0	0
        703	0	0	0	0
        704	0	0	0	0
        705	0	0	0	0
        706	0	0	0	0
        707	0	0	0	0
        708	0	0	0	0
        709	0	0	0	0
        710	0	0	0	0
        711	0	0	0	0
        712	0	0	0	0
        713	0	0	0	0
        714	0	0	0	0
        715	0	0	0	0
        716	0	0	0	0
        717	0	0	0	0
        718	0	0	0	0
        719	0	0	0	0
        720	0	0	0	0
        721	0	0	0	0
        722	0	0	0	0
        723	0	0	0	0
        724	0	0	0	0
        725	0	0	0	0
        726	0	0	0	0
        727	0	0	0	0
        728	0	0	0	0
        729	0	0	0	0
        730	0	0	0	0
        731	0	0	0	0
        732	0	0	0	0
        733	0	0	0	0
        734	0	0	0	0
        735	0	0	0	0
        736	0	0	0	0
        737	0	0	0	0
        738	0	0	0	0
        739	0	0	0	0
        740	0	0	0	0
        741	0	0	0	0
        742	0	0	0	0
        743	0	0	0	0
        744	0	0	0	0
        745	0	0	0	0
        746	0	0	0	0
        747	0	0	0	0
        748	0	0	0	0];
end
%compress data
compressed = OREcompress(fileName,aveWindow);

%the resolution of the screen
xScale = 1680;
yScale = 1050;

dataI = 1;

%iterate through each frame
for(i=1:748)
    %adds frame label to first column in returned vector
    
    %there may be more than one face per frame:
    % faces is the indices of all the faces for a frame
    faces = find(faceLocals(:,1)==i); %indices for faceLocals
    
    faceEnd = size(faces);
    
    %reset dataTemp vector which contains the booleans (
    %looking at face or not) for each face
    clear dataTemp;
    %iterate through the faces
    for(j= 1:faceEnd)
        %if the diameter is zero, there is no face
        if faceLocals(faces(j),2)==0
            
            data(dataI,:) = [i, -1, compressed(i,4)];
            dataI = dataI + 1;
            %faceLocals(faces(j),5) = -1;
        else
            %circle stats (already in pixels)
            radius = faceLocals(faces(j),1)/2;
            x1 = faceLocals(faces(j), 3);
            y1 = faceLocals(faces(j), 4);
            
            % Gazepoint stats (need to be scaled)
            x2 = xScale*compressed(i, 2);
            y2 = yScale*compressed(i, 3);
            
            distance = sqrt((x1-x2)^2 + (y1-y2)^2);
            
            gazeInFace = radius <= distance + buffer;
            data(dataI,:) = [i, gazeInFace, compressed(i,4)];
            dataI = dataI + 1;
            %faceLocals(faces(j),5) = gazeInFace;
            
        end
        
    end
end

%as long as a frame sees at least one face, it counts
% for(i = 1:748)
%     fprintf("%d \n",i);
%     indicesData = find(data(:,1)==i);
%     
%     temp = data(indicesData,:);
%     %check if there is at least one face seen
%     faceSeen = length(find(temp(:,2)== 1)) >0;
%     if faceSeen
%         data2(i,:) = [i, 1, temp(1,3)];
%     else
%         %this will add either 0 or -1
%         data2(i,:) = [i, temp(1,2), temp(1,3)];
%     end
%     
% end
% data = data2; 
end

%gaze_prop = data(:,2);
%prop0 = find(gaze_prop == 0);
%prop1 = find(gaze_prop == 1);
%avg_prop = length(prop1)/(length(prop1)+length(prop0));

